---
## Front matter
title: "Отчёт по лабораторной работе № 7"
subtitle: " Командная оболочка Midnight Commander"
author: "Паулу Антонью Жоау"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---


# Цель работы
Освоение основных возможностей командной оболочки Midnight Commander. Приобретение навыков практической работы по просмотру каталогов и файлов; манипуляций с ними.

# Задание
- Ознакомиться и разобрать на практике основные инструменты оболочки Midnight Commander.
- Выполнить упражнения.
- Ответить на контрольные вопросы.

# Выполнение лабораторной работы

## Задание по mc

1. Изучили информацию о mc, вызвав в командной строке man mc.(рис. [-@fig:001])

![man mc](image/1.png){ #fig:001 width=70%}

2. Запустили из командной строки mc, изучили его структуру и меню. (рис. [-@fig:002]), (рис. [-@fig:003])

![Структура mc](image/2.png){ #fig:002 width=70%}

![Меню mc](image/3.png){ #fig:003 width=70%}

3. Выполнили несколько операций в mc, используя управляющие клавиши (операции
с панелями) (рис. [-@fig:004]), (рис. [-@fig:005])

![Копирование](image/4.png){ #fig:004 width=70%}

![Удаление](image/5.png){ #fig:005 width=70%}

4. Выполнили основные команды меню левой панели. Оценили степень
подробности вывода информации о файлах. (рис. [-@fig:006]), (рис. [-@fig:007]), (рис. [-@fig:008]), (рис. [-@fig:009]), (рис. [-@fig:010])

![Меню левой панели](image/6.png){ #fig:006 width=70%}

![Список файлов](image/7.png){ #fig:007 width=70%}

![Быстрый просмотр](image/8.png){ #fig:008 width=70%}

![Информация](image/9.png){ #fig:009 width=70%}

![Дерево](image/10.png){ #fig:010 width=70%}


5. Используя возможности подменю Файл (рис. [-@fig:011]), выполнили:
– просмотр содержимого текстового файла; (рис. [-@fig:012])
– редактирование содержимого текстового файла (без сохранения результатов
редактирования); (рис. [-@fig:013])
– создание каталога; (рис. [-@fig:014])
– копирование в файлов в созданный каталог. (рис. [-@fig:015])

![Подменю Файл](image/11.png){ #fig:011 width=70%}

![Просмотр](image/12.png){ #fig:012 width=70%}

![Редактирование](image/13.png){ #fig:013 width=70%}

![Создание каталога](image/14.png){ #fig:014 width=70%}

![Копирование в каталог](image/15.png){ #fig:015 width=70%}


6. С помощью соответствующих средств подменю Команда (рис. [-@fig:016]) осуществили:
– поиск в файловой системе файла с заданными условиями (например, файла
с расширением .c или .cpp, содержащего строку main)(рис. [-@fig:017]), (рис. [-@fig:018]);
– выбор и повторение одной из предыдущих команд (рис. [-@fig:019]), (рис. [-@fig:020]);
– переход в домашний каталог(рис. [-@fig:021]), (рис. [-@fig:022]);
– анализ файла меню (рис. [-@fig:023]) и файла расширений(рис. [-@fig:024]).

![Подменю Команда](image/16.png){ #fig:016 width=70%}

![Расширение .с](image/17.png){ #fig:017 width=70%}

![Расширение .с](image/18.png){ #fig:018 width=70%}

![Выбор и повторение предыдущей команды](image/19.png){ #fig:019 width=70%}

![Выбор и повторение предыдущей команды](image/20.png){ #fig:020 width=70%}

![Переход в домашний каталог](image/21.png){ #fig:021 width=70%}

![Переход в домашний каталог](image/22.png){ #fig:022 width=70%}

![Файл меню](image/23.png){ #fig:023 width=70%}

![Файл расширений](image/24.png){ #fig:024 width=70%}

7. Вызвали подменю Настройки . Освоили операции, определяющие структуру экрана mc
(Full screen, Double Width, Show Hidden Files и т.д.) (рис. [-@fig:025]), (рис. [-@fig:026]), (рис. [-@fig:027])

![Подменю Настройки](image/25.png){ #fig:025 width=70%}

![Подменю Настройки](image/26.png){ #fig:026 width=70%}

![Подменю Настройки](image/27.png){ #fig:027 width=70%}

## Задание по встроенному редактору mc

1. Создали текстовой файл text.txt. (рис. [-@fig:028])

![text.txt](image/28.png){ #fig:028 width=70%}

2. Открыли этот файл с помощью встроенного в mc редактора. (рис. [-@fig:029])

![mc](image/29.png){ #fig:029 width=70%}

3. Вставили в открытый файл небольшой фрагмент текста, скопированный из Интернета. (рис. [-@fig:030])

![Фрагмент текста](image/30.png){ #fig:030 width=70%}

4. Проделали с текстом следующие манипуляции, используя горячие клавиши:
- Удалили строку текста. (рис. [-@fig:031]) 

![Фрагмент текста](image/31.png){ #fig:031 width=70%}

- Выделили фрагмент текста и скопировали его на новую строку. (рис. [-@fig:032])

![Фрагмент текста](image/32.png){ #fig:032 width=70%}

- Выделили фрагмент текста и перенесли его на новую строку. (рис. [-@fig:033])

![Фрагмент текста](image/33.png){ #fig:033 width=70%}

- Сохранили файл. (рис. [-@fig:034])

![Фрагмент текста](image/34.png){ #fig:034 width=70%}

- Отменили последнее действие. (рис. [-@fig:035])

![Фрагмент текста](image/35.png){ #fig:035 width=70%}

- Перешли в конец файла (нажав комбинацию клавиш) и написали некоторый (рис. [-@fig:036])
текст.

![Фрагмент текста](image/36.png){ #fig:036 width=70%}

- Перешли в начало файла (нажав комбинацию клавиш) и написали некоторый 
текст. (рис. [-@fig:037])

![Фрагмент текста](image/37.png){ #fig:037 width=70%}

- Сохранили и закрыли файл. (рис. [-@fig:038])

![Фрагмент текста](image/38.png){ #fig:038 width=70%}

5. Открыли файл с исходным текстом на языке программирования Python. (рис. [-@fig:039])

![Python](image/39.png){ #fig:039 width=70%}

6. Используя меню редактора, включили подсветку синтаксиса. (рис. [-@fig:040])

![Подсветка синтаксиса](image/40.png){ #fig:040 width=70%}

# Выводы

В ходе выполнения лабораторной работы были освоены основные возможности командной оболочки Midnight Commander. Приобретены навыки практической работы по просмотру каталогов и файлов; манипуляций с ними.

# Ответы на контрольные вопросы

1. Какие режимы работы есть в mc. Охарактеризуйте их.

       Режим быстрого поиска позволяет быстро  найти  нужный 
       файл  в  каталоге,  отображённом  в файловой  панели,  по  первым  символам  имени.   Для  перехода  в  режим  быстрого поиска
       используются клавиатурные сочетания C-s или M-s

       -s, --slow
       Включает   медленный   режим   терминала,   в   котором  программа  выводит  меньше
       псевдографических символов (в том числе в меню  и  экранах  помощи)  и  отключается
       вывод дополнительных (избыточных) сообщений.

2. Какие операции с файлами можно выполнить как с помощью команд shell, так и с помощью меню (комбинаций клавиш) mc? Приведите несколько примеров.

- просмотр содержимого директории
- переход в другую директорию
- копирование
- перемещение
- создание директории
- удаление директории

3. Опишите структура меню левой (или правой) панели mc, дайте характеристику командам.




       Формат списка...
       Этот  пункт  меню  предназначен  для определения формата вывода списка файлов в панели. Вы
      можете выбрать один из 4 вариантов представления списка файлов: Стандартный,  Укороченный,
      Расширенный и Определяемый пользователем.
      В стандартном формате отображаются имя файла, его размер и время последней модификации.
       Информация
       В этом режиме на панель выводится информация о подсвеченном в другой панели файле и
       о текущей файловой системе (тип, свободное пространство и число свободных inode).

       Дерево Режим  отображения  дерева каталогов подобен тому, который вы увидите, выбрав пункт
       Дерево каталогов из меню "Команды" ("Commands"). Смотрите соответствующий раздел.

       Быстрый просмотр
       В этом режиме панель переключается на отображение содержимого файла,  подсвеченного
       в другой панели. Для вывода используется встроенная программа просмотра файлов, так
       что, если переключиться клавишей Tab в панель просмотра,  вы  сможете  использовать
       все команды управления просмотром.

4. Опишите структура меню Файл mc, дайте характеристику командам.

       Программа Midnight Commander использует функциональные клавиши  F1  -  F10  как  "горячие"
       клавиши  для  команд,  включенных  в меню "Файл".  Escape-последовательности, генерируемые
       клавишами F1-F10, соответствуют функциям terminfo kf1 - kf10. На терминалах без  поддержки
       функциональных клавиш можно достичь аналогичного эффекта, нажав клавишу ESC, а затем число
       в диапазоне от 1 до 9 или 0 (соответствует F1 - F9 и F10).

       Меню "Файл" содержит следующие команды (соответствующие "горячие"  клавиши  указываются  в
       скобках):

	Просмотр файла
	Просмотр вывода команды
	Редактирование
	Копирование
	Права доступа
	Жесткая ссылка
	Абсолютная символическая ссылка
	Относительная символическая ссылка


5. Опишите структура меню Команда mc, дайте характеристику командам.

       Вызывает  меню  пользователя.   Меню  пользователя предоставляет простой способ расширения
       возможностей Midnight Commander за счет добавления в личное меню пользователя вызова часто
       используемых программ.

       При  обращении  к  пункту  меню  Дерево  каталогов  выводится окно, отображающее структуру
       каталогов файловой системы.

6. Опишите структура меню Настройки mc, дайте характеристику командам.

       Программа Midnight Commander имеет ряд установок (опций), каждая  из  которых  может  быть
       включена  или  выключена,  для чего служат несколько диалоговых окон, доступных через меню
       "Настройки". Опция включена, если поставлена  звездочка  или  знак  "x"  в  скобках  перед
       названием опции.

       Пункт  Конфигурация  вызывает  диалоговое  окно,  в котором вы можете поменять большинство
       установок программы Midnight Commander.

       Пункт Внешний вид служит для задания настроек, определяющих положение и вид окна программы
       mc на экране.

       Пункт Настройки панелей служит для задания настроек панелей файлового менеджера.

       Пункт Подтверждение вызывает диалоговое окно, в котором вы указываете, на выполнение каких
       действий программа будет требовать подтверждения.

       Пункт Оформление вызывает диалоговое окно, в котором вы можете выбрать скин.

       Пункт Биты символов вызывает диалоговое окно, в котором вы указываете, в каком формате ваш
       терминал  будет  обрабатывать (вводить и отображать на дисплее) информацию, представленную
       байтами (например, записанную в файле).

       Пункт Распознавание клавиш вызывает диалоговое окно, в котором  вы  можете  протестировать
       работу  некоторых  клавиш,  которые  работают  не  на  всех типах терминалов, и связать ту
       реакцию системы, которая должна была последовать  за  нажатием  отсутствующей  клавиши,  с
       нажатием другой клавиши или комбинации клавиш.

       Пункт  Виртуальные  ФС  вызывает  диалоговое  окно,  в  котором  вы можете задать значения
       некоторых параметров, связанных с использованием виртуальных файловых систем.

       По команде Сохранить настройки  введенные  значения  параметров  сохраняются  в  ini-файле
       программы.

7. Назовите и дайте характеристику встроенным командам mc.

       Некоторые команды в Midnight Commander вызываются с использованием клавиш Control  (иногда
       обозначается  как  CTRL  или  CTL)  и  Meta  (иногда обозначается ALT или даже Compose). В
       настоящем руководстве будут использоваться следующие сокращения:

       C-<символ> означает, что нужно нажать и удерживать клавишу Control и в  это  время  нажать
       клавишу  <символ>.  Так  C-f  будет  означать:  нажмите  Control  и, удерживая ее, нажмите
       (коротким щелчком) клавишу f.

       Аналогично M-<символ> означает, что надо удерживать в нажатом состоянии клавишу  Meta  или
       Alt  во время удара по клавише <символ>. Если на клавиатуре нет клавиш Meta и Alt, нажмите
       ESC, отпустите ее, а потом щелкните по клавише <символ>.

       S-<символ> означает, что нужно держать в нажатом состоянии клавишу Shift во время удара по
       клавише <символ>.

       Все   строки   ввода   в  Midnight  Commander  по  умолчанию  поддерживают  соглашения  об
       использовании "горячих" клавиш, принятые в редакторе GNU Emacs.

8. Назовите и дайте характеристику командам встроенного редактора mc.

	Строки ввода (это не только командная строка оболочки, но  и  строки  в  диалоговых  окнах
       различных подпрограмм) воспринимают следующие управляющие комбинации:

       C-a Перемещает курсор в началу строки.

       C-e Перемещает курсор в конец строки.

       C-b, стрелка-влево Перемещает курсор на одну позицию влево.

       C-f, стрелка-вправо Перемещает курсор на одну позицию вправо.

       M-f Перемещает курсор на одно слово вперед.

       M-b Перемещает курсор на одно слово назад.

       C-h, Backspace Удаляет символ, предшествующий курсору.

       C-d, Delete Удаляет символ в позиции курсора.

       C-@ Устанавливает метку для того, чтобы вырезать (скопировать в буфер) часть текста.

       C-w Копирует текст, расположенный между курсором и меткой, в буфер, удаляя текст из строки
       ввода.

       M-w Копирует текст, расположенный между курсором и меткой, в буфер.

       C-y Вставляет содержимое буфера в строку ввода перед позицией курсора.

       C-k Удаляет текст от курсора до конца строки.

       M-p, M-n Эти комбинации используются для перемещения по истории команд. M-p  перемещает  к
       предыдущей команде, M-n - к следующей.

       M-C-h, M-Backspace Удалить предшествующее слово.

       M-Tab  Пытается  выполнить завершение ввода (completion) имени файла, команды, переменной,
       имени пользователя или имени машины.


9. Дайте характеристику средствам mc, которые позволяют создавать меню, определяемые пользователем.

	Файлы меню содержат списки команд для выполнения часто повторяемых пользователем операций.
       Эти меню создаются и поддерживаются самими пользователями. Могут быть  созданы  три  файла
       меню:  в  текущем  каталоге,  в  домашнем  каталоге пользователя и общесистемный. Когда вы
       нажимаете клавишу F2 для вызова меню, Midnight Commander  вначале  ищет  файл  .mc.menu  в
       текущем  каталоге  и отображает соответствующее меню (если находит и если владельцем этого
       файла является данный пользователь или root и этот файл не доступен на запись всем).  Если
       такого  файла  не  найдено,  таким же образом ищется файл ~/.config/mc/menu, и в последнюю
       очередь mc использует общесистемное меню /usr/share/mc/mc.menu.

       Формат всех трех файлов меню одинаков и очень прост. Строки комментариев начинаются с '#'.
       Дополнительные комментарии должны начинаться с '#', пробела или символа табуляции. Строки,
       начинающиеся с любого символа, отличного от пробела и символа табуляции,  интерпретируются
       как  названия  пунктов  меню,  причем  если  первый  символ является буквой или цифрой, то
       соответствующая клавиша будет служить "горячей" клавишей для  вызова  этого  пункта  меню.
       Строки,  начинающиеся  с  пробела  или  символа  табуляции,  интерпретируются как команды,
       которые должны выполняться при вызове соответствующего  пункта  меню.  Эти  строки  должны
       следовать за строкой названия и их может быть несколько.

10. Дайте характеристику средствам mc, которые позволяют выполнять действия, определяемые пользователем, над текущим файлом.

В меню каждой (левой или правой) панели можно выбрать Формат списка :
– стандартный — выводит список файлов и каталогов с указанием размера и времени
правки;
– ускоренный — позволяет задать число столбцов, на которые разбивается панель при
выводе списка имён файлов или каталогов без дополнительной информации;
– расширенный — помимо названия файла или каталога выводит сведения о правах
доступа, владельце, группе, размере, времени правки;
64 Лабораторная работа № 7. Командная оболочка Midnight Commander
– определённый пользователем — позволяет вывести те сведения о файле или каталоге,
которые задаст сам пользователь.
Подпункт меню Порядок сортировки позволяет задать критерии сортировки при выводе
списка файлов и каталогов: без сортировки, по имени, расширенный, время правки,
время доступа, время изменения атрибута, размер, узел.



